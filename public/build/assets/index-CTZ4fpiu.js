import{r,m as q,j as e,L as E}from"./app-C4RVCFXS.js";import{C as G,D as H,F as V}from"./detail-pemeriksaan-BgFOvGr5.js";import{P as K}from"./pagination-table-C074srv7.js";import{B as y}from"./button-Cpet1XwL.js";import{I as C}from"./input-Dwz6j7DT.js";import{S as T,a as _,b as D,c as A,e as f,f as F,d as i}from"./select-BPQ4yK2T.js";import{T as $,a as W,b as X,c as x,d as J}from"./table-DWu0L0mZ.js";import{A as Q}from"./app-layout-ldPYgdCJ.js";import{S as M}from"./search-B0GQZEIt.js";import{C as R}from"./calendar-CQLJ0tYL.js";import{F as Y,A as Z,a as ee}from"./filter-BsTpDcxp.js";import{C as ae}from"./circle-Bjfv14hb.js";import{X as se,S as re}from"./use-mobile-navigation-CpEkveia.js";import{U as te}from"./user-BGzpBYEj.js";import{M as le}from"./map-pin-BDlMSttz.js";import{A as de}from"./activity-DkDzDMsX.js";import{R as ie}from"./refresh-cw-D0ojApLR.js";import"./proxy-BEX57ntE.js";import"./delete-confirmation-form-DPqdlB0s.js";import"./dialog-hlJMk6Kn.js";import"./index-CaltDHiM.js";import"./index-EADF-po6.js";import"./loader-circle-DfCHwiAb.js";import"./chevron-down-g17u7MCw.js";import"./eye-C1TpAAaj.js";import"./check-CY5YxT6J.js";import"./person-standing-CV_UITih.js";import"./react-icons.esm-C1sVAZP8.js";function ze({pemeriksaan:s,breadcrumb:u,filter:t,statusLabel:B,can:I}){const U=r.useMemo(()=>u?u.map(a=>({title:a.title,href:a.href})):[],[u]),{get:c,processing:h}=q(),[d,N]=r.useState((t==null?void 0:t.q)??""),[m,v]=r.useState((t==null?void 0:t.date)??""),[g,w]=r.useState((t==null?void 0:t.order_by)??""),[n,k]=r.useState((t==null?void 0:t.per_page)??"10"),[ce,ne]=r.useState(!1),S=r.useMemo(()=>({q:d.trim(),per_page:n,order_by:g,date:m}),[d,n,g,m]),o=r.useCallback(()=>{const a=d.trim(),l=m.trim(),b=parseInt(n.toString());(a||l||!isNaN(b))&&c(route("admin.riwayat.index",S),{preserveState:!0,preserveScroll:!0,replace:!0})},[c,S]),z=r.useCallback(a=>{a.preventDefault(),o()},[o]),L=r.useCallback(a=>{a.preventDefault(),o()},[o]);r.useCallback(()=>{o()},[o]);const O=r.useCallback(a=>{a.preventDefault(),N(""),v(""),k("10"),w(""),c(route("admin.riwayat.index"),{preserveState:!0,preserveScroll:!0})},[c]);r.useEffect(()=>{const a=g.trim();a&&c(route("admin.riwayat.index",{order_by:a,per_page:n,q:d}),{preserveState:!0,preserveScroll:!0})},[g,c,n,d]);const p=r.useMemo(()=>{var a;return(a=s==null?void 0:s.data)!=null&&a.length?s.data.map((l,b)=>{let P=null;P=route("admin.riwayat.show",{pemeriksaan:l.id});let j=null;return I.delete&&(j=route("admin.riwayat.destroy",{pemeriksaan:l.id})),e.jsx(G,{num:b+1+(s.current_page-1)*s.per_page,title:l.tgl_pemeriksaan,columnData:[l.pasien.nama,`${l.pasien.tempat_lahir}/${l.pasien.tanggal_lahir}`,l.label],delete:j??"",url:j??"",id:l.id.toString(),show:P??"",children:e.jsx(H,{pemeriksaan:l,detail:l.detailpemeriksaan})},l.id)}):null},[s]);return e.jsxs(Q,{breadcrumbs:U,children:[e.jsx(E,{title:"Pemeriksaan"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30 dark:from-gray-900 dark:to-blue-900/20",children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 lg:p-6",children:[e.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:text-3xl dark:text-white",children:"Riwayat Data Pemeriksaan Gizi Oleh Pengguna"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Kelola dan pantau data pemeriksaan gizi ibu hamil"})]})}),e.jsx("div",{className:"rounded-2xl border border-gray-200/50 bg-white/80 p-6 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:e.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:e.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"search-text",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(M,{className:"h-4 w-4"}),"Cari Pasien"]}),e.jsx(C,{type:"search",id:"search-text",value:d,onChange:a=>N(a.target.value),placeholder:"Nama atau NIK pasien...",className:"w-full border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"search-date",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(R,{className:"h-4 w-4"}),"Tanggal Pemeriksaan"]}),e.jsx(C,{type:"date",id:"search-date",value:m,onChange:a=>v(a.target.value),className:"w-full border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(Y,{className:"h-4 w-4"}),"Urutkan"]}),e.jsxs(T,{value:g,onValueChange:w,children:[e.jsx(_,{className:"border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50",children:e.jsx(D,{placeholder:"Pilih urutan"})}),e.jsxs(A,{children:[e.jsxs(f,{children:[e.jsx(F,{children:"Urutan Waktu"}),e.jsxs(i,{value:"desc",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Terbaru"]}),e.jsxs(i,{value:"asc",children:[e.jsx(ee,{className:"h-4 w-4"}),"Terlama"]})]}),e.jsxs(f,{children:[e.jsx(F,{children:"Status Gizi"}),B.map(a=>e.jsxs(i,{value:a,className:"capitalize",children:[e.jsx(ae,{className:"h-2 w-2 fill-current"}),a]},a))]})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(y,{type:"button",onClick:z,className:"flex-1 bg-blue-600 text-white transition-colors hover:bg-blue-700",disabled:h,children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Terapkan"]}),e.jsx(y,{variant:"outline",type:"button",onClick:O,className:"border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20",disabled:h,children:e.jsx(se,{className:"h-4 w-4"})})]})]})})}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200/50 bg-white/80 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs($,{children:[e.jsx(W,{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50/30 dark:border-gray-700 dark:from-gray-800 dark:to-blue-900/20",children:e.jsxs(X,{className:"hover:bg-transparent",children:[e.jsx(x,{className:"w-12",children:"No."}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Tanggal Pemeriksaan"]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"Nama Pasien"]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"Tempat/Tanggal Lahir"]})}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Hasil Pemeriksaan"]})}),e.jsx(x,{className:"text-center font-semibold text-foreground",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),"Aksi"]})})]})}),e.jsx(J,{className:h?"opacity-50":"divide-y divide-gray-200 dark:divide-gray-700",children:p})]})}),!p||p.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-4 dark:bg-gray-700",children:e.jsx(V,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:d||m?"Coba ubah filter pencarian Anda":"Mulai dengan membuat pemeriksaan gizi baru"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-gray-200 p-4 sm:flex-row dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{value:n,onValueChange:k,children:[e.jsx(_,{className:"w-24 bg-white dark:bg-gray-700",children:e.jsx(D,{placeholder:"10"})}),e.jsx(A,{children:e.jsxs(f,{children:[e.jsx(i,{value:"10",children:"10"}),e.jsx(i,{value:"20",children:"20"}),e.jsx(i,{value:"50",children:"50"}),e.jsx(i,{value:"100",children:"100"})]})})]}),e.jsxs(y,{variant:"outline",type:"button",onClick:L,className:"flex items-center gap-2",disabled:h,children:[e.jsx(ie,{className:"h-4 w-4"}),"Tampilkan"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Menampilkan ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.from)||0})," -",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.to)||0})," dari"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.total)||0})," data"]})]}),e.jsx(K,{links:(s==null?void 0:s.links)??[],data:t})]})]})]})})]})}export{ze as default};
