import{r as p,m as _,j as e,L as M}from"./app-BvJTPa4F.js";import{S as H,D as P}from"./delete-confirmation-form-YC9YzV3w.js";import{I as u}from"./input-error-CLJW2rfn.js";import{B as x}from"./button-B_C3jsia.js";import{C as B}from"./card-Bw9ju0oy.js";import{D as O,a as A,b as q,c as R,d as V}from"./dialog-CfW2idO7.js";import{I as h}from"./input-BhlM952y.js";import{L as c}from"./label-BPlB6m5R.js";import{S as z,a as G,b as J,c as $,d as K}from"./select-D-qCTuss.js";import{T as Q,a as U,b as k,c as i,d as W,e as t}from"./table-C2S8Hjz6.js";import{A as X}from"./app-layout-Br9h_7Ez.js";import{L as Y}from"./loader-circle-CSHmarIV.js";import"./proxy-B0oIBWLF.js";import"./index-B9dZ-KWS.js";import"./use-mobile-navigation-BwpiycPh.js";import"./index-BaqpAR-j.js";import"./check-DxIZI4OL.js";import"./person-standing-Bd8ReaRt.js";import"./react-icons.esm-BKo58YvE.js";import"./chevron-down-EWV8qnUl.js";function Ne({label:N,labelSayuran:Z,listLabelSayuran:j,breadcrumb:f,titlePage:y,can:a}){const v=p.useMemo(()=>f?f.map(s=>({title:s.title,href:s.href})):[],[f]),{data:n,setData:l,post:S,put:D,processing:d,errors:m,reset:C}=_({id:null,label_id:"",sayuran:"",porsi:"",tekstur:"",frekuensi:""}),[b,g]=p.useState(null),T=s=>{s.preventDefault(),b==null?S(route("admin.labelSayuran.store"),{preserveState:!0,onSuccess:()=>{l({id:null,label_id:"",sayuran:"",porsi:"",tekstur:"",frekuensi:""}),o(!1)},onError:r=>{console.error(r)}}):D(route("admin.labelSayuran.update",{labelSayuran:b}),{preserveState:!0,onSuccess:()=>{l({id:null,label_id:"",sayuran:"",porsi:"",tekstur:"",frekuensi:""}),g(null),o(!1)},onError:r=>{console.error(r)}})},[L,o]=p.useState(!1),I=s=>{if(s){const r=j.filter(E=>E.id===s,[]);g(r[0].id),r&&l({id:r[0].id,label_id:r[0].label_id.toLocaleString(),sayuran:r[0].sayuran,porsi:r[0].porsi,tekstur:r[0].tekstur,frekuensi:r[0].frekuensi}),o(!0)}},w=()=>{o(!1),C(),g(null)},[ee,F]=p.useState(!1);return e.jsxs(X,{breadcrumbs:v,children:[e.jsx(M,{title:y??"Label"}),e.jsx(B,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Label Gizi Ibu Hamil"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(a==null?void 0:a.add)&&e.jsx(x,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>o(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(Q,{className:"min-w-full",children:[e.jsx(U,{children:e.jsxs(k,{children:[e.jsx(i,{className:"cursor-pointer",children:"no"}),e.jsx(i,{className:"cursor-pointer",children:"Nama Label"}),e.jsx(i,{className:"cursor-pointer",children:"sayuran"}),e.jsx(i,{className:"cursor-pointer",children:"Porsi"}),e.jsx(i,{className:"cursor-pointer",children:"Tekstur"}),e.jsx(i,{className:"cursor-pointer",children:"Frekuensi"}),((a==null?void 0:a.delete)||(a==null?void 0:a.edit))&&e.jsx(i,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(W,{children:j.length>0?j.map((s,r)=>e.jsxs(k,{children:[e.jsx(t,{children:r+1}),e.jsx(t,{children:s.label.nama}),e.jsx(t,{children:s.sayuran}),e.jsx(t,{children:s.porsi}),e.jsx(t,{children:s.tekstur}),e.jsx(t,{children:s.frekuensi}),((a==null?void 0:a.edit)||(a==null?void 0:a.delete))&&e.jsx(t,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(a==null?void 0:a.edit)&&e.jsxs(x,{type:"button",variant:"default",tooltip:"edit",onClick:()=>I(s.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(H,{})," "]}),(a==null?void 0:a.delete)&&e.jsx(P,{title:`Hapus label ${s.id}`,id:s.id,url:route("admin.labelSayuran.destroy",{labelSayuran:s.id}),setOpenDialog:F})]})})]},s.id)):e.jsx(k,{children:e.jsx(t,{colSpan:7,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(O,{open:L,onOpenChange:o,children:e.jsxs(A,{children:[e.jsx(q,{children:e.jsxs(R,{children:[b?"Edit":"Tambah"," Label Sayuran"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:T,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"sayuran",className:"text-sm font-medium",children:"Pilih Label"}),e.jsxs(z,{value:n.label_id,required:!0,onValueChange:s=>l("label_id",s),children:[e.jsx(G,{className:"w-full",children:e.jsx(J,{placeholder:"Select Label"})}),e.jsx($,{children:N.map((s,r)=>e.jsx(K,{value:s.id.toString(),children:s.nama},r))})]}),e.jsx(u,{message:m.label_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"sayuran",className:"text-sm font-medium",children:"Nama Sayuran"}),e.jsx(h,{type:"text",value:n.sayuran,onChange:s=>l("sayuran",s.target.value),id:"sayuran",name:"sayuran",className:"input",disabled:d,placeholder:"Masukkan nama-nama sayuran"}),e.jsx(u,{message:m.sayuran,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"porsi",className:"text-sm font-medium",children:"Jumlah Porsi Makanan"}),e.jsx(h,{type:"text",value:n.porsi,onChange:s=>l("porsi",s.target.value),id:"porsi",name:"porsi",className:"input",disabled:d,placeholder:"Masukkan porsi"}),e.jsx(u,{message:m.porsi,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"tekstur",className:"text-sm font-medium",children:"Tekstur Makanan"}),e.jsx(h,{type:"text",value:n.tekstur,onChange:s=>l("tekstur",s.target.value),id:"tekstur",name:"tekstur",className:"input",disabled:d,placeholder:"Masukkan tekstur"}),e.jsx(u,{message:m.tekstur,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(c,{htmlFor:"frekuensi",className:"text-sm font-medium",children:"Frekuensi Per Hari"}),e.jsx(h,{type:"text",value:n.frekuensi,onChange:s=>l("frekuensi",s.target.value),id:"frekuensi",name:"frekuensi",className:"input",disabled:d,placeholder:"Masukkan frekuensi"}),e.jsx(u,{message:m.frekuensi,className:"mt-2"})]})]}),e.jsxs(V,{children:[e.jsx(x,{type:"button",variant:"secondary",onClick:()=>w(),children:"Batal"}),e.jsxs(x,{type:"submit",children:[d&&e.jsx(Y,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{Ne as default};
