import{r as o,m as H,j as e,L as B}from"./app-C4RVCFXS.js";import{S as F,D as O}from"./delete-confirmation-form-DPqdlB0s.js";import{I as b}from"./input-error-BPXmR5dL.js";import{B as d}from"./button-Cpet1XwL.js";import{C as A}from"./card-Bcy0nL_5.js";import{D as M,a as R,b as q,c as z,d as G}from"./dialog-hlJMk6Kn.js";import{I as g}from"./input-Dwz6j7DT.js";import{L as N}from"./label-BIJj0GsV.js";import{T as K,a as P,b as h,c as n,d as $,e as t}from"./table-DWu0L0mZ.js";import{A as J}from"./app-layout-ldPYgdCJ.js";import{L as Q}from"./loader-circle-DfCHwiAb.js";import"./proxy-BEX57ntE.js";import"./index-CaltDHiM.js";import"./use-mobile-navigation-CpEkveia.js";import"./index-EADF-po6.js";import"./react-icons.esm-C1sVAZP8.js";import"./person-standing-CV_UITih.js";import"./chevron-down-g17u7MCw.js";function ce({label:m,breadcrumb:p,titlePage:k,can:s}){const v=o.useMemo(()=>p?p.map(a=>({title:a.title,href:a.href})):[],[p]),{data:j,setData:i,post:D,put:y,processing:c,errors:f,reset:C}=H({id:null,nama:"",deskripsi:""}),[x,u]=o.useState(null),L=a=>{a.preventDefault(),x==null?D(route("admin.label.store"),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),r(!1)},onError:l=>{console.error(l)}}):y(route("admin.label.update",{label:x}),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),u(null),r(!1)},onError:l=>{console.error(l)}})},[S,r]=o.useState(!1),T=a=>{if(a){const l=m.filter(E=>E.id===a,[]);u(l[0].id),l&&i({id:l[0].id,nama:l[0].nama,deskripsi:l[0].deskripsi}),r(!0)}},I=()=>{r(!1),C(),u(null)},[U,w]=o.useState(!1);return e.jsxs(J,{breadcrumbs:v,children:[e.jsx(B,{title:k??"Label"}),e.jsx(A,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Label Gizi Ibu Hamil"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(s==null?void 0:s.add)&&e.jsx(d,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>r(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(K,{className:"min-w-full",children:[e.jsx(P,{children:e.jsxs(h,{children:[e.jsx(n,{className:"cursor-pointer",children:"no"}),e.jsx(n,{className:"cursor-pointer",children:"Nama"}),e.jsx(n,{className:"cursor-pointer",children:"deskripsi"}),((s==null?void 0:s.delete)||(s==null?void 0:s.edit))&&e.jsx(n,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx($,{children:m.length>0?m.map((a,l)=>e.jsxs(h,{children:[e.jsx(t,{children:l+1}),e.jsx(t,{children:a.nama}),e.jsx(t,{children:a.deskripsi}),((s==null?void 0:s.edit)||(s==null?void 0:s.delete))&&e.jsx(t,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(s==null?void 0:s.edit)&&e.jsxs(d,{type:"button",variant:"default",tooltip:"edit",onClick:()=>T(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(F,{})," "]}),(s==null?void 0:s.delete)&&e.jsx(O,{title:`Hapus label ${a.id}`,id:a.id,url:route("admin.label.destroy",{label:a.id}),setOpenDialog:w})]})})]},a.id)):e.jsx(h,{children:e.jsx(t,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(M,{open:S,onOpenChange:r,children:e.jsxs(R,{children:[e.jsx(q,{children:e.jsxs(z,{children:[x?"Edit":"Tambah"," Label"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:L,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(N,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Label"}),e.jsx(g,{type:"text",value:j.nama,onChange:a=>i("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:c,placeholder:"Masukkan nama label"}),e.jsx(b,{message:f.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(N,{htmlFor:"deskripsi",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(g,{type:"text",value:j.deskripsi,onChange:a=>i("deskripsi",a.target.value),id:"deskripsi",name:"deskripsi",className:"input",disabled:c,placeholder:"Masukkan deskripsi label"}),e.jsx(b,{message:f.deskripsi,className:"mt-2"})]})]}),e.jsxs(G,{children:[e.jsx(d,{type:"button",variant:"secondary",onClick:()=>I(),children:"Batal"}),e.jsxs(d,{type:"submit",children:[c&&e.jsx(Q,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{ce as default};
