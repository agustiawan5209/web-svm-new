import{r as o,m as M,j as e,L as F}from"./app-Br7Rb584.js";import{S as H,D as B}from"./delete-confirmation-form-EmucLgua.js";import{I as f}from"./input-error-Bxg0ime_.js";import{B as n}from"./button-DoqZbxQf.js";import{C as O}from"./card-Cq4s8kKp.js";import{D as P,a as A,b as R,c as q,d as V}from"./dialog-IsFmp5po.js";import{I as y}from"./input-5TLY9MeM.js";import{L as b}from"./label-DOJ2N2F8.js";import{S as z,a as G,b as $,c as J,d as K}from"./select-HF6kMQsP.js";import{T as Q,a as U,b as g,c as d,d as W,e as i}from"./table-c8MEmrti.js";import{A as X}from"./app-layout-DodCbfEW.js";import{L as Y}from"./loader-circle-Bvgwkjx9.js";import"./proxy-BgAUpJCq.js";import"./index-g5ldfJqD.js";import"./use-mobile-navigation-mKTUk1a6.js";import"./index-DIiMPY3d.js";import"./check-CfZm3c1B.js";import"./person-standing-BQ0xcDCc.js";import"./react-icons.esm-D-b0XHMd.js";import"./chevron-down-xPoO2vh2.js";function Ne({label:N,labelSayuran:Z,listLabelSayuran:m,breadcrumb:u,titlePage:k,can:a}){const S=o.useMemo(()=>u?u.map(s=>({title:s.title,href:s.href})):[],[u]),{data:c,setData:r,post:v,put:D,processing:p,errors:x,reset:C}=M({id:null,label_id:"",sayuran:"",porsi:"",tekstur:"",frekuensi:""}),[h,j]=o.useState(null),L=s=>{s.preventDefault(),h==null?v(route("admin.labelSayuran.store"),{preserveState:!0,onSuccess:()=>{r({id:null,label_id:"",sayuran:"",porsi:"",tekstur:"",frekuensi:""}),t(!1)},onError:l=>{console.error(l)}}):D(route("admin.labelSayuran.update",{labelSayuran:h}),{preserveState:!0,onSuccess:()=>{r({id:null,label_id:"",sayuran:"",porsi:"",tekstur:"",frekuensi:""}),j(null),t(!1)},onError:l=>{console.error(l)}})},[T,t]=o.useState(!1),I=s=>{if(s){const l=m.filter(_=>_.id===s,[]);j(l[0].id),l&&r({id:l[0].id,label_id:l[0].label_id.toLocaleString(),sayuran:l[0].sayuran,porsi:l[0].porsi,tekstur:l[0].tekstur,frekuensi:l[0].frekuensi}),t(!0)}},w=()=>{t(!1),C(),j(null)},[ee,E]=o.useState(!1);return e.jsxs(X,{breadcrumbs:S,children:[e.jsx(F,{title:k??"Label"}),e.jsx(O,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Label Gizi Ibu Hamil"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(a==null?void 0:a.add)&&e.jsx(n,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>t(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(Q,{className:"min-w-full",children:[e.jsx(U,{children:e.jsxs(g,{children:[e.jsx(d,{className:"cursor-pointer",children:"no"}),e.jsx(d,{className:"cursor-pointer",children:"Nama Label"}),e.jsx(d,{className:"cursor-pointer",children:"Penanganan"}),((a==null?void 0:a.delete)||(a==null?void 0:a.edit))&&e.jsx(d,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(W,{children:m.length>0?m.map((s,l)=>e.jsxs(g,{children:[e.jsx(i,{children:l+1}),e.jsx(i,{children:s.label.nama}),e.jsx(i,{children:s.tekstur}),((a==null?void 0:a.edit)||(a==null?void 0:a.delete))&&e.jsx(i,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(a==null?void 0:a.edit)&&e.jsxs(n,{type:"button",variant:"default",tooltip:"edit",onClick:()=>I(s.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(H,{})," "]}),(a==null?void 0:a.delete)&&e.jsx(B,{title:`Hapus label ${s.id}`,id:s.id,url:route("admin.labelSayuran.destroy",{labelSayuran:s.id}),setOpenDialog:E})]})})]},s.id)):e.jsx(g,{children:e.jsx(i,{colSpan:7,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(P,{open:T,onOpenChange:t,children:e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(q,{children:[h?"Edit":"Tambah"," Rekomendasi Makanan"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:L,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"sayuran",className:"text-sm font-medium",children:"Pilih Label"}),e.jsxs(z,{value:c.label_id,required:!0,onValueChange:s=>r("label_id",s),children:[e.jsx(G,{className:"w-full",children:e.jsx($,{placeholder:"Select Label"})}),e.jsx(J,{children:N.map((s,l)=>e.jsx(K,{value:s.id.toString(),children:s.nama},l))})]}),e.jsx(f,{message:x.label_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"sayuran",className:"text-sm font-medium",children:"Nama Makanan"}),e.jsx(y,{type:"text",value:c.sayuran,onChange:s=>r("sayuran",s.target.value),id:"sayuran",name:"sayuran",className:"input",disabled:p,placeholder:"Masukkan nama-nama sayuran"}),e.jsx(f,{message:x.sayuran,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(b,{htmlFor:"tekstur",className:"text-sm font-medium",children:"Penanganan Makanan"}),e.jsx(y,{type:"text",value:c.tekstur,onChange:s=>r("tekstur",s.target.value),id:"tekstur",name:"tekstur",className:"input",disabled:p,placeholder:"Masukkan tekstur"}),e.jsx(f,{message:x.tekstur,className:"mt-2"})]})]}),e.jsxs(V,{children:[e.jsx(n,{type:"button",variant:"secondary",onClick:()=>w(),children:"Batal"}),e.jsxs(n,{type:"submit",children:[p&&e.jsx(Y,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{Ne as default};
