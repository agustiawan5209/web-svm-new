import{K as _,r as s,m as d,j as a,L as y}from"./app-B8YGctXO.js";import{F as C}from"./formulir-klasifikasi-Cv9UOSLE.js";import{C as w,a as b}from"./card-BuwYw8aa.js";import{T as E}from"./use-mobile-navigation-B5qfKN1I.js";import{U as v}from"./user-auth-layout-DMaSeyoB.js";import"./dialog-Dp6YjYFa.js";import"./index-KwUP8Ayu.js";import"./button-BM1BWDmo.js";import"./index-CJMIeYH9.js";import"./input-DYZ0kQ36.js";import"./label-BhH6eUgD.js";import"./algorithm-model-DxXWS6d6.js";import"./form-loop-kriteria-CKoZPAgO.js";import"./select-CW9xsr-m.js";import"./check-Ch83j7Ql.js";import"./proxy-C5QYoeYH.js";import"./person-standing-s5_Sf9C7.js";import"./react-icons.esm-yr2sCDxZ.js";import"./chevron-down-KoX1KHqF.js";import"./input-error-CsxlQD2v.js";import"./table-CcVoc2ry.js";import"./user-DpYRAI1e.js";import"./map-pin-BX31As-g.js";import"./calendar-D1OdveQ7.js";import"./loader-circle-B8zACiUB.js";import"./activity-Bc9cMAy9.js";import"./scale-vSTMbz4m.js";import"./circle-check-big-DKqSH2-V.js";import"./circle-alert-Bvw_RjkP.js";import"./clipboard-list-hccNSrcp.js";import"./baby-kIuAhb6M.js";import"./index-Cf_oPsZ0.js";function lt({breadcrumb:i,pasien:N,pasienId:t,kriteria:l}){const{auth:g}=_().props;s.useMemo(()=>i?i.map(e=>({title:e.title,href:e.href})):[],[i]);const[r,f]=s.useState(null),[o,n]=s.useState({title:"",show:!1,message:"",type:"success"}),h=new Date().toISOString().split("T")[0],{data:p,setData:m,post:j,processing:x,errors:k}=d({rme:"",nik:t?t.nik:"",user_id:g.user.id.toString(),nama:t?t.nama:"",tempat_lahir:t?t.tempat_lahir:"",tanggal_lahir:t?t.tanggal_lahir:"",jenis_kelamin:t?t.jenis_kelamin:"",alamat:t?t.user.alamat:"",tanggal_pemeriksaan:h,kriteria:l.map(e=>({nilai:null,kriteria_id:e.id.toString(),name:e.nama})),label:"",alasan:"",rekomendasi:[],usia_pasien:"",detail:[],statusGizi:[]}),S=e=>{var u;e.preventDefault(),p.label==""?m("label",((u=r==null?void 0:r.label)==null?void 0:u.toString())??""):j(route("pemeriksaan.store"),{onError:c=>{console.log(c),n({title:"Error",show:!0,message:JSON.stringify(c),type:"error"})},preserveState:!0})};return s.useEffect(()=>{r&&r.label&&m("label",r.label.toString())},[r]),console.log(t),a.jsxs(v,{children:[a.jsx(y,{title:"Create"}),a.jsx(E,{open:o.show,onOpenChange:()=>n(e=>({...e,show:!1})),title:o.title,description:o.message,duration:5e3,variant:o.type}),a.jsx(w,{className:"border-none shadow-none",children:a.jsx(b,{className:"p-6",children:a.jsx("div",{className:"grid gap-8",children:a.jsx(C,{submit:S,kriteria:l,setResult:f,data:p,setData:m,processing:x,errors:k})})})})]})}export{lt as default};
