import{r as l,m as E,j as e,L as K}from"./app-6zd_bWuL.js";import{S as L,D as B}from"./delete-confirmation-form-D7Yh_WC8.js";import{I as j}from"./input-error-D_dtP-BE.js";import{B as n}from"./button-0F6j6UJN.js";import{D as H,a as F,b as O,c as z,d as A}from"./dialog-DFnl_mwL.js";import{I as f}from"./input-BpxBLscX.js";import{L as k}from"./label-Bt2KfAv7.js";import{T as M,a as P,b as u,c as o,d as R,e as t}from"./table-9MdNVzlZ.js";import{A as q}from"./app-layout-CVFowHtq.js";import{P as G}from"./plus-D5eDcurG.js";import{L as $}from"./loader-circle-Bcvy3bAC.js";import"./proxy-4SkkH8IV.js";import"./index-8GJ9XT80.js";import"./use-mobile-navigation-BmhN4DQS.js";import"./index-B0Fjj1EZ.js";import"./react-icons.esm-cYr1q-ST.js";import"./person-standing-DIsV2blT.js";import"./chevron-down-ChoBRkYd.js";function me({kriteria:d,breadcrumb:m,titlePage:b}){const N=l.useMemo(()=>m?m.map(a=>({title:a.title,href:a.href})):[],[m]),{data:h,setData:i,post:v,put:y,processing:c,errors:g,reset:D}=E({id:null,nama:"",deskripsi:""}),[p,x]=l.useState(null),w=a=>{a.preventDefault(),p==null?v(route("admin.kriteria.store"),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),r(!1)},onError:s=>{console.error(s)}}):y(route("admin.kriteria.update",{kriteria:p}),{preserveState:!0,onSuccess:()=>{i({id:null,nama:"",deskripsi:""}),x(null),r(!1)},onError:s=>{console.error(s)}})},[S,r]=l.useState(!1),C=a=>{if(a){const s=d.filter(I=>I.id===a,[]);x(s[0].id),s&&i({id:s[0].id,nama:s[0].nama,deskripsi:s[0].deskripsi}),r(!0)}},[J,T]=l.useState(!1);return e.jsxs(q,{breadcrumbs:N,children:[e.jsx(K,{title:b??"Kriteria"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30 dark:from-gray-900 dark:to-blue-900/20",children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:text-3xl dark:text-white",children:"Data Kriteria Gizi Ibu Hamil"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Kelola kriteria/parameter yang digunakan untuk deteksi gizi ibu hamil"})]}),e.jsxs(n,{onClick:()=>r(!0),type:"button",size:"lg",className:"flex cursor-pointer items-center gap-3 bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg shadow-blue-500/25 transition-all duration-200 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(G,{className:"h-5 w-5"}),"Data Kriteria Baru"]})]}),e.jsx("div",{className:"overflow-hidden rounded-2xl border border-gray-200/50 bg-white/80 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(M,{className:"min-w-full",children:[e.jsx(P,{children:e.jsxs(u,{children:[e.jsx(o,{className:"cursor-pointer",children:"no"}),e.jsx(o,{className:"cursor-pointer",children:"Nama"}),e.jsx(o,{className:"cursor-pointer",children:"deskripsi"}),e.jsx(o,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(R,{children:d.length>0?d.map((a,s)=>e.jsxs(u,{children:[e.jsx(t,{children:s+1}),e.jsx(t,{children:a.nama}),e.jsx(t,{children:a.deskripsi}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs(n,{type:"button",variant:"default",tooltip:"edit",onClick:()=>C(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(L,{})," "]}),e.jsx(B,{title:`Hapus kriteria ${a.id}`,id:a.id,url:route("admin.kriteria.destroy",{kriteria:a.id}),setOpenDialog:T})]})})]},a.id)):e.jsx(u,{children:e.jsx(t,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})})]})}),e.jsx(H,{open:S,onOpenChange:r,children:e.jsxs(F,{children:[e.jsx(O,{children:e.jsxs(z,{children:[p?"Edit":"Tambah"," Kriteria"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:w,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Kriteria"}),e.jsx(f,{type:"text",value:h.nama,onChange:a=>i("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:c,placeholder:"Masukkan nama kriteria"}),e.jsx(j,{message:g.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(k,{htmlFor:"deskripsi",className:"text-sm font-medium",children:"Keterangan"}),e.jsx(f,{type:"text",value:h.deskripsi,onChange:a=>i("deskripsi",a.target.value),id:"deskripsi",name:"deskripsi",className:"input",disabled:c,placeholder:"Masukkan deskripsi kriteria"}),e.jsx(j,{message:g.deskripsi,className:"mt-2"})]})]}),e.jsxs(A,{children:[e.jsx(n,{type:"button",variant:"secondary",onClick:()=>{D(),x(null),r(!1)},children:"Batal"}),e.jsxs(n,{type:"submit",children:[c&&e.jsx($,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{me as default};
