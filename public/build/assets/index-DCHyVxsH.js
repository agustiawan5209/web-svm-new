import{r,m as O,j as e,L as $,$ as q}from"./app-FfUhyKxF.js";import{C as E,D as H,F as V}from"./detail-pemeriksaan-CAtQdR3Z.js";import{P as K}from"./pagination-table-Eg0paHF0.js";import{B as u}from"./button-BoBOppD_.js";import{I as T}from"./input-BypNMtY4.js";import{S as _,a as D,b as A,c as z,e as y,f as B,d as i}from"./select-DyOX0DGK.js";import{T as W,a as X,b as J,c as m,d as Q}from"./table-D-UO7cUM.js";import{A as Y}from"./app-layout-DEwhLGiL.js";import{P as Z}from"./plus-D74l4F3a.js";import{S as F}from"./search-qOF_kcOx.js";import{C as M}from"./calendar-CHbNZM5j.js";import{F as ee,A as ae,a as se}from"./filter-BHJOor5P.js";import{C as re}from"./circle-3NDCIl09.js";import{X as te,S as le}from"./use-mobile-navigation-Ds9M2dNZ.js";import{U as de}from"./user-D2K_Mk5d.js";import{M as ie}from"./map-pin-pFn4sKMF.js";import{A as ce}from"./activity-rwChJyE_.js";import{R as ne}from"./refresh-cw-CLVJQy0O.js";import"./proxy-BlWtMGlG.js";import"./delete-confirmation-form-j6simjgo.js";import"./dialog-CN1z3bbi.js";import"./index-Cw4nnVHV.js";import"./index-DoDDpxPe.js";import"./loader-circle-BWgdIM74.js";import"./chevron-down-abTDHcS7.js";import"./eye-DXDwzn9q.js";import"./check-DL3zOPPF.js";import"./person-standing-DtNtDJcD.js";import"./react-icons.esm-RkVC7dVF.js";function Oe({pemeriksaan:s,breadcrumb:p,filter:t,statusLabel:I,can:N}){const R=r.useMemo(()=>p?p.map(a=>({title:a.title,href:a.href})):[],[p]),{get:c,processing:g}=O(),[d,v]=r.useState((t==null?void 0:t.q)??""),[x,w]=r.useState((t==null?void 0:t.date)??""),[h,k]=r.useState((t==null?void 0:t.order_by)??""),[n,S]=r.useState((t==null?void 0:t.per_page)??"10"),[oe,me]=r.useState(!1),P=r.useMemo(()=>({q:d.trim(),per_page:n,order_by:h,date:x}),[d,n,h,x]),o=r.useCallback(()=>{const a=d.trim(),l=x.trim(),j=parseInt(n.toString());(a||l||!isNaN(j))&&c(route("pemeriksaan.index",P),{preserveState:!0,preserveScroll:!0,replace:!0})},[c,P]),U=r.useCallback(a=>{a.preventDefault(),o()},[o]),L=r.useCallback(a=>{a.preventDefault(),o()},[o]);r.useCallback(()=>{o()},[o]);const G=r.useCallback(a=>{a.preventDefault(),v(""),w(""),S("10"),k(""),c(route("pemeriksaan.index"),{preserveState:!0,preserveScroll:!0})},[c]);r.useEffect(()=>{const a=h.trim();a&&c(route("pemeriksaan.index",{order_by:a,per_page:n,q:d}),{preserveState:!0,preserveScroll:!0})},[h,c,n,d]);const b=r.useMemo(()=>{var a;return(a=s==null?void 0:s.data)!=null&&a.length?s.data.map((l,j)=>{let C=null;C=route("pemeriksaan.show",{pemeriksaan:l.id});let f=null;return N.delete&&(f=route("pemeriksaan.destroy",{pemeriksaan:l.id})),e.jsx(E,{num:j+1+(s.current_page-1)*s.per_page,title:l.tgl_pemeriksaan,columnData:[l.pasien.nama,`${l.pasien.tempat_lahir}/${l.pasien.tanggal_lahir}`,l.label],delete:f??"",url:f??"",id:l.id.toString(),show:C??"",children:e.jsx(H,{pemeriksaan:l,detail:l.detailpemeriksaan})},l.id)}):null},[s]);return e.jsxs(Y,{breadcrumbs:R,children:[e.jsx($,{title:"Pemeriksaan"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30 dark:from-gray-900 dark:to-blue-900/20",children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:text-3xl dark:text-white",children:"Data Pemeriksaan Gizi"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Kelola dan pantau data pemeriksaan gizi ibu hamil"})]}),N.add&&e.jsx(q,{href:route("pemeriksaan.create-id"),children:e.jsxs(u,{type:"button",size:"lg",className:"flex cursor-pointer items-center gap-3 bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg shadow-blue-500/25 transition-all duration-200 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(Z,{className:"h-5 w-5"}),"Pemeriksaan Gizi Baru"]})})]}),e.jsx("div",{className:"rounded-2xl border border-gray-200/50 bg-white/80 p-6 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:e.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:e.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"search-text",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(F,{className:"h-4 w-4"}),"Cari Pasien"]}),e.jsx(T,{type:"search",id:"search-text",value:d,onChange:a=>v(a.target.value),placeholder:"Nama atau NIK pasien...",className:"w-full border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"search-date",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(M,{className:"h-4 w-4"}),"Tanggal Pemeriksaan"]}),e.jsx(T,{type:"date",id:"search-date",value:x,onChange:a=>w(a.target.value),className:"w-full border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(ee,{className:"h-4 w-4"}),"Urutkan"]}),e.jsxs(_,{value:h,onValueChange:k,children:[e.jsx(D,{className:"border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50",children:e.jsx(A,{placeholder:"Pilih urutan"})}),e.jsxs(z,{children:[e.jsxs(y,{children:[e.jsx(B,{children:"Urutan Waktu"}),e.jsxs(i,{value:"desc",className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Terbaru"]}),e.jsxs(i,{value:"asc",children:[e.jsx(se,{className:"h-4 w-4"}),"Terlama"]})]}),e.jsxs(y,{children:[e.jsx(B,{children:"Status Gizi"}),I.map(a=>e.jsxs(i,{value:a,className:"capitalize",children:[e.jsx(re,{className:"h-2 w-2 fill-current"}),a]},a))]})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(u,{type:"button",onClick:U,className:"flex-1 bg-blue-600 text-white transition-colors hover:bg-blue-700",disabled:g,children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Terapkan"]}),e.jsx(u,{variant:"outline",type:"button",onClick:G,className:"border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20",disabled:g,children:e.jsx(te,{className:"h-4 w-4"})})]})]})})}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200/50 bg-white/80 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(W,{children:[e.jsx(X,{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50/30 dark:border-gray-700 dark:from-gray-800 dark:to-blue-900/20",children:e.jsxs(J,{className:"hover:bg-transparent",children:[e.jsx(m,{className:"w-12",children:"No."}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Tanggal Pemeriksaan"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Nama Pasien"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Tempat/Tanggal Lahir"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Hasil Pemeriksaan"]})}),e.jsx(m,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"Aksi"]})})]})}),e.jsx(Q,{className:g?"opacity-50":"divide-y divide-gray-200 dark:divide-gray-700",children:b})]})}),!b||b.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"rounded-full bg-gray-100 p-4 dark:bg-gray-700",children:e.jsx(V,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Tidak ada data pemeriksaan"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:d||x?"Coba ubah filter pencarian Anda":"Mulai dengan membuat pemeriksaan gizi baru"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-gray-200 p-4 sm:flex-row dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(_,{value:n,onValueChange:S,children:[e.jsx(D,{className:"w-24 bg-white dark:bg-gray-700",children:e.jsx(A,{placeholder:"10"})}),e.jsx(z,{children:e.jsxs(y,{children:[e.jsx(i,{value:"10",children:"10"}),e.jsx(i,{value:"20",children:"20"}),e.jsx(i,{value:"50",children:"50"}),e.jsx(i,{value:"100",children:"100"})]})})]}),e.jsxs(u,{variant:"outline",type:"button",onClick:L,className:"flex items-center gap-2",disabled:g,children:[e.jsx(ne,{className:"h-4 w-4"}),"Tampilkan"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Menampilkan ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.from)||0})," -",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.to)||0})," dari"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:(s==null?void 0:s.total)||0})," data"]})]}),e.jsx(K,{links:(s==null?void 0:s.links)??[],data:t})]})]})]})})]})}export{Oe as default};
