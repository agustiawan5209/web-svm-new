import{r as t,m as P,j as e,L as T,$ as h}from"./app-DjOIQuK1.js";import{D,S as _}from"./delete-confirmation-form-CtxcoQS_.js";import{P as C}from"./pagination-table-BibxICDX.js";import{B as o}from"./button-DIvv25p0.js";import{I as B}from"./input-DXuzG_Sx.js";import{S as A,a as U,b as q,c as E,e as I,f as L,d as u}from"./select-DYRcLHbQ.js";import{T as F,a as z,b,c as d,d as H,e as c}from"./table-Bq4WtGd9.js";import{A as M}from"./app-layout-BPdUtNvZ.js";import{P as O}from"./plus-CcWenmQo.js";import{S as j}from"./search-D6a7io22.js";import{F as $,A as R,a as V}from"./filter-CduD-KBD.js";import{X as G,S as K}from"./use-mobile-navigation-9RenQoFI.js";import{P as W}from"./person-standing-DUNb-qsH.js";import{U as X}from"./user-BIGnYb9n.js";import{M as J}from"./map-pin-B_xj9AEV.js";import{E as Q}from"./eye-DbfDcVmh.js";import"./proxy-CpYiiuML.js";import"./dialog-Dc6LFye_.js";import"./index-BKmIqAC4.js";import"./index-I47ZBckP.js";import"./loader-circle-nwD6YEdJ.js";import"./check-CtZFz5q-.js";import"./react-icons.esm-D4GlyG_k.js";import"./chevron-down-DObL8Hgh.js";function Se({pasien:s,breadcrumb:n,filter:r,can:y}){const N=t.useMemo(()=>n?n.map(a=>({title:a.title,href:a.href})):[],[n]),{get:i,processing:m,reset:v}=P({}),[g,p]=t.useState((r==null?void 0:r.q)??""),f=a=>{a.preventDefault();const l=g.trim();l.length>0&&i(route("pasien.index",{q:l,per_page:r==null?void 0:r.per_page,order_by:r==null?void 0:r.order_by}),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},w=a=>{a.preventDefault(),p(""),v(),i(route("pasien.index"),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},[x,k]=t.useState((r==null?void 0:r.order_by)??"");t.useEffect(()=>{const a=x.trim();a.length>0&&i(route("pasien.index",{order_by:a,per_page:r==null?void 0:r.per_page,q:r==null?void 0:r.q}),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{}})},[x]);const[Y,S]=t.useState(!1),[Z,ee]=t.useState((r==null?void 0:r.per_page)??10);return e.jsxs(M,{breadcrumbs:N,children:[e.jsx(T,{title:"Pasien"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30 dark:from-gray-900 dark:to-blue-900/20",children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900 lg:text-3xl dark:text-white",children:"Data Pasien"})}),y.add&&e.jsx(h,{href:route("pasien.create"),children:e.jsxs(o,{type:"button",size:"lg",className:"flex cursor-pointer items-center gap-3 bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg shadow-blue-500/25 transition-all duration-200 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(O,{className:"h-5 w-5"}),"Data Pasien Baru"]})})]}),e.jsx("div",{className:"rounded-2xl border border-gray-200/50 bg-white/80 p-6 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:e.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:e.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{htmlFor:"search-text",className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(j,{className:"h-4 w-4"}),"Cari Pasien"]}),e.jsx(B,{type:"search",id:"search-text",value:g,onChange:a=>p(a.target.value),placeholder:"Nama atau NIK pasien...",className:"w-full border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx($,{className:"h-4 w-4"}),"Urutkan"]}),e.jsxs(A,{value:x,onValueChange:k,children:[e.jsx(U,{className:"border-gray-300 bg-white/50 dark:border-gray-600 dark:bg-gray-700/50",children:e.jsx(q,{placeholder:"Pilih urutan"})}),e.jsx(E,{children:e.jsxs(I,{children:[e.jsx(L,{children:"Urutan Waktu"}),e.jsxs(u,{value:"desc",className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Terbaru"]}),e.jsxs(u,{value:"asc",children:[e.jsx(V,{className:"h-4 w-4"}),"Terlama"]})]})})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(o,{type:"button",onClick:f,className:"flex-1 bg-blue-600 text-white transition-colors hover:bg-blue-700",disabled:m,children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Terapkan"]}),e.jsx(o,{variant:"outline",type:"button",onClick:w,className:"border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/20",disabled:m,children:e.jsx(G,{className:"h-4 w-4"})})]})]})})}),e.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-200/50 bg-white/80 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-gray-800/80",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(F,{children:[e.jsx(z,{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50/30 dark:border-gray-700 dark:from-gray-800 dark:to-blue-900/20",children:e.jsxs(b,{className:"hover:bg-transparent",children:[e.jsx(d,{className:"w-12",children:"No."}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4"}),"Nik"]})}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),"Nama Pasien"]})}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"Tempat/Tanggal Lahir"]})}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),"Aksi"]})})]})}),e.jsx(H,{className:m?"opacity-50":"",children:((s==null?void 0:s.data)??[]).length>0&&(s==null?void 0:s.data.map((a,l)=>e.jsxs(b,{children:[e.jsx(c,{children:l+1+((s==null?void 0:s.current_page)-1)*(s==null?void 0:s.per_page)}),e.jsxs(c,{children:[" ",a.nik," "]}),e.jsxs(c,{children:[" ",a.nama," "]}),e.jsxs(c,{children:[" ",a.tempat_lahir,"/ ",a.tanggal_lahir," "]}),e.jsx(c,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(D,{title:`Hapus pasien ${a.id}`,id:a.id,url:route("pasien.destroy",{pasien:a.id}),setOpenDialog:S}),e.jsx(h,{href:route("pasien.show",{pasien:a.id}),children:e.jsx(o,{variant:"default",type:"button",className:"bg-chart-1",children:e.jsx(Q,{size:4})})}),e.jsx(h,{href:route("pasien.edit",{pasien:a.id}),children:e.jsx(o,{variant:"default",type:"button",className:"bg-chart-4",children:e.jsx(_,{size:4})})})]})})]},l)))})]})}),e.jsx("div",{className:"flex flex-col items-center justify-between gap-4 border-t border-gray-200 p-4 sm:flex-row dark:border-gray-700",children:e.jsx(C,{links:(s==null?void 0:s.links)??[],data:r})})]})]})})]})}export{Se as default};
