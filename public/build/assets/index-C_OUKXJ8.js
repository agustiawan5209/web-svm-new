import{r as o,m as E,j as e,L as I}from"./app-FfUhyKxF.js";import{S as L,D as B}from"./delete-confirmation-form-j6simjgo.js";import{I as b}from"./input-error-B1md15rl.js";import{B as d}from"./button-BoBOppD_.js";import{C as F}from"./card-CG4Wk5qv.js";import{D as H,a as J,b as O,c as A,d as M}from"./dialog-CN1z3bbi.js";import{I as R}from"./input-BypNMtY4.js";import{L as g}from"./label-DgU5ZaCI.js";import{T as q,a as K,b as u,c as n,d as P,e as t}from"./table-D-UO7cUM.js";import{A as $}from"./app-layout-DEwhLGiL.js";import{L as z}from"./loader-circle-BWgdIM74.js";import"./proxy-BlWtMGlG.js";import"./index-Cw4nnVHV.js";import"./use-mobile-navigation-Ds9M2dNZ.js";import"./index-DoDDpxPe.js";import"./react-icons.esm-RkVC7dVF.js";import"./person-standing-DtNtDJcD.js";import"./chevron-down-abTDHcS7.js";function me({jenisTanaman:m,breadcrumb:p,titlePage:N,can:s}){const k=o.useMemo(()=>p?p.map(a=>({title:a.title,href:a.href})):[],[p]),{data:h,setData:l,post:y,put:v,processing:x,errors:f}=E({id:null,nama:"",deskripsi:""}),[c,j]=o.useState(null),D=a=>{a.preventDefault(),c==null?y(route("admin.jenisTanaman.store"),{preserveState:!0,onSuccess:()=>{l({id:null,nama:"",deskripsi:""}),i(!1)},onError:r=>{console.error(r)}}):v(route("admin.jenisTanaman.update",{jenisTanaman:c}),{preserveState:!0,onSuccess:()=>{l({id:null,nama:"",deskripsi:""}),j(null),i(!1)},onError:r=>{console.error(r)}})},[S,i]=o.useState(!1),T=a=>{if(a){const r=m.filter(C=>C.id===a,[]);j(r[0].id),r&&l({id:r[0].id,nama:r[0].nama,deskripsi:r[0].deskripsi}),i(!0)}},[G,w]=o.useState(!1);return e.jsxs($,{breadcrumbs:k,children:[e.jsx(I,{title:N??"JenisTanaman"}),e.jsx(F,{children:e.jsxs("div",{className:"px-2",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"text-lg font-bold md:text-xl",children:"Jenis Sayuran"}),e.jsx("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:(s==null?void 0:s.add)&&e.jsx(d,{variant:"default",type:"button",className:"cursor-pointer",onClick:()=>i(!0),children:"Tambah Data"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-sm border",children:e.jsxs(q,{className:"min-w-full",children:[e.jsx(K,{children:e.jsxs(u,{children:[e.jsx(n,{className:"cursor-pointer",children:"no"}),e.jsx(n,{className:"cursor-pointer",children:"Nama"}),e.jsx(n,{className:"cursor-pointer",children:"deskripsi"}),((s==null?void 0:s.delete)||(s==null?void 0:s.edit))&&e.jsx(n,{className:"cursor-pointer",children:"Aksi"})]})}),e.jsx(P,{children:m.length>0?m.map((a,r)=>e.jsxs(u,{children:[e.jsx(t,{children:r+1}),e.jsx(t,{children:a.nama}),e.jsx(t,{children:a.deskripsi}),((s==null?void 0:s.edit)||(s==null?void 0:s.delete))&&e.jsx(t,{children:e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[(s==null?void 0:s.edit)&&e.jsxs(d,{type:"button",variant:"default",tooltip:"edit",onClick:()=>T(a.id),className:"border border-chart-4 bg-chart-4",children:[" ",e.jsx(L,{})," "]}),(s==null?void 0:s.delete)&&e.jsx(B,{title:`Hapus label ${a.id}`,id:a.id,url:route("admin.label.destroy",{label:a.id}),setOpenDialog:w})]})})]},a.id)):e.jsx(u,{children:e.jsx(t,{colSpan:4,className:"py-4 text-center",children:"No data found"})})})]})})]})}),e.jsx(H,{open:S,onOpenChange:i,children:e.jsxs(J,{children:[e.jsx(O,{children:e.jsxs(A,{children:[c?"Edit":"Tambah"," Jenis Sayuran"]})}),e.jsxs("form",{className:"space-y-4",onSubmit:D,children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(g,{htmlFor:"nama",className:"text-sm font-medium",children:"Nama Label"}),e.jsx(R,{type:"text",value:h.nama,onChange:a=>l("nama",a.target.value),id:"nama",name:"nama",className:"input",disabled:x,placeholder:"Masukkan nama label"}),e.jsx(b,{message:f.nama,className:"mt-2"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(g,{htmlFor:"deskripsi",className:"text-sm font-medium",children:"Keterangan Sayuran"}),e.jsx("textarea",{rows:4,value:h.deskripsi,onChange:a=>l("deskripsi",a.target.value),id:"deskripsi",name:"deskripsi",className:"flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",disabled:x,placeholder:"Masukkan deskripsi sayuran"}),e.jsx(b,{message:f.deskripsi,className:"mt-2"})]})]}),e.jsxs(M,{children:[e.jsx(d,{type:"button",variant:"secondary",onClick:()=>i(!1),children:"Batal"}),e.jsxs(d,{type:"submit",children:[x&&e.jsx(z,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})]})}export{me as default};
