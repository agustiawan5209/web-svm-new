import{r as s,K as v,m as S,j as r,L as k}from"./app-B8YGctXO.js";import{F as y}from"./formulir-klasifikasi-Cv9UOSLE.js";import{C,a as w}from"./card-BuwYw8aa.js";import{T as _}from"./use-mobile-navigation-B5qfKN1I.js";import{A as E}from"./app-layout-Ddgxt9CF.js";import"./dialog-Dp6YjYFa.js";import"./index-KwUP8Ayu.js";import"./button-BM1BWDmo.js";import"./index-CJMIeYH9.js";import"./input-DYZ0kQ36.js";import"./label-BhH6eUgD.js";import"./algorithm-model-DxXWS6d6.js";import"./form-loop-kriteria-CKoZPAgO.js";import"./select-CW9xsr-m.js";import"./check-Ch83j7Ql.js";import"./proxy-C5QYoeYH.js";import"./person-standing-s5_Sf9C7.js";import"./react-icons.esm-yr2sCDxZ.js";import"./chevron-down-KoX1KHqF.js";import"./input-error-CsxlQD2v.js";import"./table-CcVoc2ry.js";import"./user-DpYRAI1e.js";import"./map-pin-BX31As-g.js";import"./calendar-D1OdveQ7.js";import"./loader-circle-B8zACiUB.js";import"./activity-Bc9cMAy9.js";import"./scale-vSTMbz4m.js";import"./circle-check-big-DKqSH2-V.js";import"./circle-alert-Bvw_RjkP.js";function ot({breadcrumb:o,kriteria:i}){const f=s.useMemo(()=>o?o.map(e=>({title:e.title,href:e.href})):[],[o]),[t,u]=s.useState(null),[a,m]=s.useState({title:"",show:!1,message:"",type:"success"}),{auth:N}=v().props,c=new Date().toISOString().split("T")[0],{data:n,setData:l,post:h,processing:x,errors:g}=S({rme:"",user_id:"",nik:"",nama:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",alamat:"",tanggal_pemeriksaan:c,kriteria:i.map(e=>({nilai:null,kriteria_id:e.id.toString(),name:e.nama})),label:"",alasan:"",rekomendasi:[],detail:[],statusGizi:[]}),b=e=>{var p,d;e.preventDefault(),n.label==""?l("label",((p=t==null?void 0:t.label)==null?void 0:p.toString())??""):h(route("pemeriksaan.store",{label:(d=t==null?void 0:t.label)==null?void 0:d.toString()}),{onError:j=>{m({title:"Error",show:!0,message:JSON.stringify(j),type:"error"})},preserveState:!0})};return s.useEffect(()=>{t&&t.label&&l("label",t.label.toString())},[t]),r.jsxs(E,{breadcrumbs:f,children:[r.jsx(k,{title:"Create"}),r.jsx(_,{open:a.show,onOpenChange:()=>m(e=>({...e,show:!1})),title:a.title,description:a.message,duration:5e3,variant:a.type}),r.jsx("div",{className:"dark:bg-elevation-1 flex h-full flex-1 flex-col gap-4 rounded-xl p-1 lg:p-4",children:r.jsx("div",{className:"relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:r.jsx(C,{children:r.jsx(w,{children:i&&r.jsx("div",{className:"mt-6",children:r.jsx(y,{submit:b,kriteria:i,setResult:u,data:n,setData:l,processing:x,errors:g})})})})})})]})}export{ot as default};
